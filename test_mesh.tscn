[gd_scene load_steps=10 format=4 uid="uid://dnm2kcka6ywm5"]

[ext_resource type="Shader" uid="uid://bq4wkawk3hsj3" path="res://test_shader.gdshader" id="1_3f5q1"]
[ext_resource type="Script" uid="uid://c7b8e15dql2io" path="res://test_mesh.gd" id="1_aocs0"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_daf1y"]
shader = ExtResource("1_3f5q1")
shader_parameter/scale = 5.0
shader_parameter/amplitude = 0.5
shader_parameter/gain = 0.5
shader_parameter/frequency = 2.0
shader_parameter/octaves = 6
shader_parameter/shiftX = 100.0
shader_parameter/shiftY = 100.0
shader_parameter/useDomainWarping = true
shader_parameter/patternShiftX = 4.0
shader_parameter/patternShiftY = 4.0
shader_parameter/smoothHeights = true
shader_parameter/heightModifier = 1.0
shader_parameter/depthCount = 1
shader_parameter/enableNormalMapping = true
shader_parameter/lightDirection = Vector3(0, 1, 0)
shader_parameter/lightColor = Vector3(1, 1, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_3f5q1"]
_surfaces = [{
"aabb": AABB(-39.9227, 0, 0, 89.9227, 1080, 1e-05),
"attribute_data": PackedByteArray("0NDQ/wAAAAAAAAAA0NDQ/wAASEIAAAAA0NDQ/wAASEIAAEhCAAAA/wAASELtFYVEAAAA/wAASEIAAIdEAAAA/wAAAAAAAIdEAAAA/wAASEJmmn1EAAAA/wAASELtFYVEAAAA//bTg8EAwIBEAAAA/wAASELtFYVEAAAA/wAAAAAAAIdEAAAA//bTg8EAwIBEAAAA/wAASEI/MG5EAAAA/wAASEJmmn1EAAAA/0Y5qb6xinFEAAAA/wAASEJmmn1EAAAA//bTg8EAwIBEAAAA/0Y5qb6xinFEAAAA/wAASEIVCk9EAAAA/wAASEKn+V1EAAAA/4afKsF1sV1EAAAA/wAASEKn+V1EAAAA/wAASEI/MG5EAAAA/4afKsF1sV1EAAAA/wAASEI/MG5EAAAA/0Y5qb6xinFEAAAA/4afKsF1sV1EAAAA/wAASEIbvEFEAAAA/wAASEIVCk9EAAAA/8+wH8Ji+UtEAAAA/wAASEIVCk9EAAAA/4afKsF1sV1EAAAA/8+wH8Ji+UtEAAAA/wAASEInWDREAAAA/wAASEIbvEFEAAAA/13NCMJiEDtEAAAA/wAASEIbvEFEAAAA/8+wH8Ji+UtEAAAA/13NCMJiEDtEAAAA/wAASELclx9EAAAA/wAASEInWDREAAAA/+l3TcBVPShEAAAA/wAASEInWDREAAAA/13NCMJiEDtEAAAA/+l3TcBVPShEAAAA/wAASEJFzBJEAAAA/wAASELclx9EAAAA/wKg5cDjORtEAAAA/wAASELclx9EAAAA/+l3TcBVPShEAAAA/wKg5cDjORtEAAAA/wAASELu8wFEAAAA/wAASEJFzBJEAAAA/2YYy8CgjAxEAAAA/wAASEJFzBJEAAAA/wKg5cDjORtEAAAA/2YYy8CgjAxEAAAA/wAASELYK99DAAAA/wAASELu8wFEAAAA//NePcHim/xDAAAA/wAASELu8wFEAAAA/2YYy8CgjAxEAAAA//NePcHim/xDAAAA/wAASELYK99DAAAA//NePcHim/xDAAAA/0QyCsItud1DAAAA/wAASELi67lDAAAA/wAASELYK99DAAAA/9X8hMHiN7tDAAAA/wAASELYK99DAAAA/0QyCsItud1DAAAA/9X8hMHiN7tDAAAA/wAASEKk549DAAAA/wAASELi67lDAAAA/wL3XMGcPJlDAAAA/wAASELi67lDAAAA/9X8hMHiN7tDAAAA/wL3XMGcPJlDZGRk/wAASELG/ytDZGRk/wAASEKLMmZDZGRk/+Sp5cG302dDPj4+/wAASEKLMmZDPj4+/wAASEKk549DPj4+/+Sp5cG302dDJSUl/wAASEKk549DJSUl/wL3XMGcPJlDJSUl/+Sp5cG302dDoqKi/wAASELBVOZCoqKi/wAASELG/ytDoqKi//MADcJ8wyFDe3t7/wAASELG/ytDe3t7/+Sp5cG302dDe3t7//MADcJ8wyFD3Nzc/wAASEIAAEhC3Nzc/wAASELBVOZC3Nzc/5whCsKbqthCtbW1/wAASELBVOZCtbW1//MADcJ8wyFDtbW1/5whCsKbqthC4eHh/wAAAAAAAAAA4eHh/wAASEIAAEhC4eHh/40OA8JZ9RRC6+vr/wAASEIAAEhC6+vr/5whCsKbqthC6+vr/40OA8JZ9RRC"),
"format": 34359738393,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 105,
"vertex_data": PackedByteArray("AAAAAAAAAAAAAAAAAABIQgAAAAAAAAAAAABIQgAASEIAAAAAAABIQu0VhUQAAAAAAABIQgAAh0QAAAAAAAAAAAAAh0QAAAAAAABIQmaafUQAAAAAAABIQu0VhUQAAAAA9tODwQDAgEQAAAAAAABIQu0VhUQAAAAAAAAAAAAAh0QAAAAA9tODwQDAgEQAAAAAAABIQj8wbkQAAAAAAABIQmaafUQAAAAARjmpvrGKcUQAAAAAAABIQmaafUQAAAAA9tODwQDAgEQAAAAARjmpvrGKcUQAAAAAAABIQhUKT0QAAAAAAABIQqf5XUQAAAAAhp8qwXWxXUQAAAAAAABIQqf5XUQAAAAAAABIQj8wbkQAAAAAhp8qwXWxXUQAAAAAAABIQj8wbkQAAAAARjmpvrGKcUQAAAAAhp8qwXWxXUQAAAAAAABIQhu8QUQAAAAAAABIQhUKT0QAAAAAz7AfwmL5S0QAAAAAAABIQhUKT0QAAAAAhp8qwXWxXUQAAAAAz7AfwmL5S0QAAAAAAABIQidYNEQAAAAAAABIQhu8QUQAAAAAXc0IwmIQO0QAAAAAAABIQhu8QUQAAAAAz7AfwmL5S0QAAAAAXc0IwmIQO0QAAAAAAABIQtyXH0QAAAAAAABIQidYNEQAAAAA6XdNwFU9KEQAAAAAAABIQidYNEQAAAAAXc0IwmIQO0QAAAAA6XdNwFU9KEQAAAAAAABIQkXMEkQAAAAAAABIQtyXH0QAAAAAAqDlwOM5G0QAAAAAAABIQtyXH0QAAAAA6XdNwFU9KEQAAAAAAqDlwOM5G0QAAAAAAABIQu7zAUQAAAAAAABIQkXMEkQAAAAAZhjLwKCMDEQAAAAAAABIQkXMEkQAAAAAAqDlwOM5G0QAAAAAZhjLwKCMDEQAAAAAAABIQtgr30MAAAAAAABIQu7zAUQAAAAA8149weKb/EMAAAAAAABIQu7zAUQAAAAAZhjLwKCMDEQAAAAA8149weKb/EMAAAAAAABIQtgr30MAAAAA8149weKb/EMAAAAARDIKwi253UMAAAAAAABIQuLruUMAAAAAAABIQtgr30MAAAAA1fyEweI3u0MAAAAAAABIQtgr30MAAAAARDIKwi253UMAAAAA1fyEweI3u0MAAAAAAABIQqTnj0MAAAAAAABIQuLruUMAAAAAAvdcwZw8mUMAAAAAAABIQuLruUMAAAAA1fyEweI3u0MAAAAAAvdcwZw8mUMAAAAAAABIQsb/K0MAAAAAAABIQosyZkMAAAAA5KnlwbfTZ0MAAAAAAABIQosyZkMAAAAAAABIQqTnj0MAAAAA5KnlwbfTZ0MAAAAAAABIQqTnj0MAAAAAAvdcwZw8mUMAAAAA5KnlwbfTZ0MAAAAAAABIQsFU5kIAAAAAAABIQsb/K0MAAAAA8wANwnzDIUMAAAAAAABIQsb/K0MAAAAA5KnlwbfTZ0MAAAAA8wANwnzDIUMAAAAAAABIQgAASEIAAAAAAABIQsFU5kIAAAAAnCEKwpuq2EIAAAAAAABIQsFU5kIAAAAA8wANwnzDIUMAAAAAnCEKwpuq2EIAAAAAAAAAAAAAAAAAAAAAAABIQgAASEIAAAAAjQ4Dwln1FEIAAAAAAABIQgAASEIAAAAAnCEKwpuq2EIAAAAAjQ4Dwln1FEIAAAAA")
}]

[sub_resource type="Gradient" id="Gradient_3f5q1"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_daf1y"]
gradient = SubResource("Gradient_3f5q1")
width = 512
height = 512

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ubirm"]
frequency = 0.0061

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_3d7n5"]
generate_mipmaps = false
seamless = true
as_normal_map = true
bump_strength = 13.1
noise = SubResource("FastNoiseLite_ubirm")

[sub_resource type="CanvasTexture" id="CanvasTexture_dxe77"]
diffuse_texture = SubResource("GradientTexture2D_daf1y")
normal_texture = SubResource("NoiseTexture2D_3d7n5")
texture_repeat = 2

[node name="TestMesh" type="MeshInstance2D"]
material = SubResource("ShaderMaterial_daf1y")
mesh = SubResource("ArrayMesh_3f5q1")
texture = SubResource("CanvasTexture_dxe77")
script = ExtResource("1_aocs0")

[node name="LightMarker" type="Marker2D" parent="."]
position = Vector2(12, 57.658)
